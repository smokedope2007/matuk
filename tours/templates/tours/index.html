{% extends 'tours/base.html' %}
{% load i18n static %}

{% block content %}
<section id="home" class="hero">
  <div class="hero-content" data-aos="fade-up">
    <h2>{% trans '–û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Å–µ–±—è –≤–µ–ª–∏—á–∏–µ –°–®–ê' %}</h2>
    <p>{% trans '–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ —Ç—É—Ä—ã, –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã, –±–µ–∑–∑–∞–±–æ—Ç–Ω—ã–π –æ—Ç–¥—ã—Ö' %}</p>
    <a href="#booking" class="btn">{% trans '–ü–æ–¥–æ–±—Ä–∞—Ç—å —Ç—É—Ä' %}</a>
  </div>
</section>

<section id="destinations" class="destinations" data-aos="fade-up">
  <div class="container">
    <h2 class="section-title">{% trans '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è' %}</h2>
    
    <!-- –§–∏–ª—å—Ç—Ä—ã –∏ –ø–æ–∏—Å–∫ -->
    <div class="filters">
      <input 
        type="text" 
        id="searchInput" 
        class="search-input" 
        placeholder="{% trans '–ü–æ–∏—Å–∫ —Ç—É—Ä–æ–≤...' %}"
      >
      
      <div class="filter-tags">
        <span class="filter-tag active" data-tag="all">{% trans '–í—Å–µ' %}</span>
        <span class="filter-tag" data-tag="–≥–æ—Ä–æ–¥">{% trans '–ì–æ—Ä–æ–¥' %}</span>
        <span class="filter-tag" data-tag="–ø—Ä–∏—Ä–æ–¥–∞">{% trans '–ü—Ä–∏—Ä–æ–¥–∞' %}</span>
        <span class="filter-tag" data-tag="—Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è">{% trans '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è' %}</span>
        <span class="filter-tag" data-tag="–∫—É–ª—å—Ç—É—Ä–∞">{% trans '–ö—É–ª—å—Ç—É—Ä–∞' %}</span>
        <span class="filter-tag" data-tag="–∞–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö">{% trans '–ê–∫—Ç–∏–≤–Ω—ã–π –æ—Ç–¥—ã—Ö' %}</span>
      </div>
      
      <select id="sortSelect" class="sort-select">
        <option value="popularity">{% trans '–ü–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏' %}</option>
        <option value="price-asc">{% trans '–¶–µ–Ω–∞ –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é' %}</option>
        <option value="price-desc">{% trans '–¶–µ–Ω–∞ –ø–æ —É–±—ã–≤–∞–Ω–∏—é' %}</option>
        <option value="duration">{% trans '–ü–æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏' %}</option>
      </select>
    </div>
    
    <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Ç—É—Ä–æ–≤ -->
    <div class="cards" id="destinationsContainer">
      {% for dest in destinations %}
      <div class="card destination-card"
           data-name="{{ dest.name }}"
           data-description="{{ dest.description }}"
           data-popularity="{{ dest.popularity }}"
           data-price="{{ dest.price }}"
           data-duration="{{ dest.duration }}"
           data-tags="{{ dest.tags|join:' ' }}"
           data-aos="zoom-in" 
           data-aos-delay="{{ forloop.counter0|add:'100' }}">
        {% if dest.price %}
        <div class="price-tag">${{ dest.price }}</div>
        {% endif %}
        <img src="{{ dest.image_url }}" alt="{{ dest.name }}">
        <h3>{{ dest.name }}</h3>
        <p>{{ dest.description }}</p>
        
        {% if dest.tags %}
        <div class="card-tags">
          {% for tag in dest.tags|slice:":3" %}
          <span class="tag">{{ tag }}</span>
          {% endfor %}
          {% if dest.duration %}
          <span class="tag">{{ dest.duration }} {% trans '–¥–Ω–µ–π' %}</span>
          {% endif %}
        </div>
        {% endif %}
        
        <div style="margin-top: 15px;">
          <button class="btn" style="width: 100%; padding: 10px;" 
                  onclick="document.getElementById('booking').scrollIntoView({behavior: 'smooth'})">
            {% trans '–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å' %}
          </button>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<section id="advantages" class="advantages" data-aos="fade-up">
  <div class="container">
    <h2 class="section-title">{% trans '–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å' %}</h2>
    <div class="features">
      <div class="feature" data-aos="fade-right">
        <div class="icon">‚úàÔ∏è</div>
        <h3>{% trans '–ü—Ä—è–º—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã' %}</h3>
        <p>{% trans '–†–∞–±–æ—Ç–∞–µ–º –Ω–∞–ø—Ä—è–º—É—é —Å –æ—Ç–µ–ª—è–º–∏ –∏ –∞–≤–∏–∞–∫–æ–º–ø–∞–Ω–∏—è–º–∏ ‚Äî –±–µ–∑ –Ω–∞—Ü–µ–Ω–æ–∫' %}</p>
      </div>
      <div class="feature" data-aos="fade-up">
        <div class="icon">üõ°Ô∏è</div>
        <h3>{% trans '–°—Ç—Ä–∞—Ö–æ–≤–∫–∞ –≤ –ø–æ–¥–∞—Ä–æ–∫' %}</h3>
        <p>{% trans '–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Å—Ç—Ä–∞—Ö–æ–≤–∫–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7 –≤–∫–ª—é—á–µ–Ω—ã –≤ –∫–∞–∂–¥—ã–π —Ç—É—Ä' %}</p>
      </div>
      <div class="feature" data-aos="fade-left">
        <div class="icon">üó∫Ô∏è</div>
        <h3>{% trans '–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã' %}</h3>
        <p>{% trans '–û—Ç 3 –¥–æ 21 –¥–Ω—è, —Å –≥–∏–¥–æ–º –∏–ª–∏ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ ‚Äî –∫–∞–∫ –≤–∞–º —É–¥–æ–±–Ω–æ' %}</p>
      </div>
    </div>
  </div>
</section>

<section id="reviews" class="reviews" data-aos="fade-up">
  <div class="container">
    <h2 class="section-title">{% trans '–û—Ç–∑—ã–≤—ã –Ω–∞—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤' %}</h2>
    <div class="slider">
      <div class="slides" id="reviewSlides">
        <div class="slide active">
          <div class="review-card">
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <p>{% trans '–ù–µ–∑–∞–±—ã–≤–∞–µ–º–∞—è –ø–æ–µ–∑–¥–∫–∞ –ø–æ –ó–∞–ø–∞–¥—É –°–®–ê! –ì–∏–¥ ‚Äî –ø—Ä–æ—Å—Ç–æ —Å–æ–∫—Ä–æ–≤–∏—â–µ, –≤—Å—ë –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ –∏–¥–µ–∞–ª—å–Ω–æ. –û—Å–æ–±–µ–Ω–Ω–æ –≤–ø–µ—á–∞—Ç–ª–∏–ª –ì—Ä–∞–Ω–¥-–ö–∞–Ω—å–æ–Ω –Ω–∞ —Ä–∞—Å—Å–≤–µ—Ç–µ.' %}</p>
            <h4>‚Äî –ê–Ω–Ω–∞ –ö., –ú–æ—Å–∫–≤–∞</h4>
          </div>
        </div>
        <div class="slide">
          <div class="review-card">
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
            <p>{% trans 'Family trip to Florida was a dream come true ‚Äî kids loved Disney, and we parents relaxed at the beach. USATravel handled visas, transfers, and even surprise birthday cake!' %}</p>
            <h4>‚Äî Michael R., Berlin</h4>
          </div>
        </div>
        <div class="slide">
          <div class="review-card">
            <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
            <p>{% trans '–û—Ç–ª–∏—á–Ω—ã–π —Å–µ—Ä–≤–∏—Å! –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ ‚Äî –≤ –æ—Ç–µ–ª–µ –≤ –õ–∞—Å-–í–µ–≥–∞—Å–µ –Ω–æ–º–µ—Ä –±—ã–ª –ø–æ–º–µ–Ω—è–Ω, –Ω–æ –º–µ–Ω–µ–¥–∂–µ—Ä –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ –≤—Å—ë –∏—Å–ø—Ä–∞–≤–∏–ª. –í —Ü–µ–ª–æ–º ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º!' %}</p>
            <h4>‚Äî –î–º–∏—Ç—Ä–∏–π –ü., –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥</h4>
          </div>
        </div>
      </div>
      <div class="slider-controls">
        <button type="button" class="prev" onclick="changeSlide(-1)">‚ùÆ</button>
        <button type="button" class="next" onclick="changeSlide(1)">‚ùØ</button>
      </div>
      <div class="dots" id="slideDots"></div>
    </div>
  </div>
</section>

<section id="booking" class="booking" data-aos="fade-up">
  <div class="container">
    <h2 class="section-title">{% trans '–ó–∞–±—Ä–æ–Ω–∏—Ä—É–π—Ç–µ —Ç—É—Ä' %}</h2>
    <form class="form" method="post" action="{% url 'success_page' %}">
      {% csrf_token %}
      {{ form.name }}
      {{ form.email }}
      {{ form.destination }}
      {{ form.travel_date }}
      {{ form.participants }}
      <button type="submit" class="btn">{% trans '–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å' %}</button>
    </form>
  </div>
</section>

<section class="map-section" data-aos="fade-up">
  <div class="container">
    <h2 class="section-title">{% trans '–ù–∞—à–∏ –æ—Ñ–∏—Å—ã –∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã' %}</h2>
    <div class="map-container">
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d224396.0570331624!2d-74.2598655!3d40.7064465!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c24fa5d33f083b%3A0xc80b8f06e177fe62!2sNew%20York%2C%20NY%2C%20USA!5e0!3m2!1sen!2sru!4v1717065385039!5m2!1sen!2sru"
        width="100%"
        height="450"
        style="border:0; border-radius: 12px;"
        allowfullscreen
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
    <p class="map-note">{% trans 'üìç –û—Å–Ω–æ–≤–Ω–æ–π –æ—Ñ–∏—Å ‚Äî –ù—å—é-–ô–æ—Ä–∫. –ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –ú–æ—Å–∫–≤–µ, –ë–µ—Ä–ª–∏–Ω–µ –∏ –î—É–±–∞–µ.' %}</p>
  </div>
</section>
{% endblock %}